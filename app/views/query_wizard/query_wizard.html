<!-- Query Wizard Modal Template -->


<div class="modal-header">
    <h3 class="modal-title inline">Query Wizard</h3>
    <h5 class="inline">Build a query from your comparison</h5>
    <uib-progressbar max="4" value="step" type="{{progressType}}">{{step}} / 4</uib-progressbar>
</div>

<!-- First step of modal -->
<div ng-show="step == 1">
    <div class="modal-body">
        <h4><strong>Datasets  </strong><em>Select two</em></h4>
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="d in datasets">
                <checkbox ng-model="d.selected" ng-change="change(d)"></checkbox>
                <label>{{d.name}}</label>
            </li>
        </ul>
    </div>
    <div class="modal-footer">
        <button class="btn btn-danger pull-left" type="button" ng-click="cancel()">Cancel</button>
        <button class="btn btn-primary" type="button" ng-click="next()" ng-disabled="selectedCount != 2">Next</button>
    </div>
</div>

<!-- Second step of modal -->
<div ng-show="step == 2">
    <div class="modal-body">
        <h4><strong>Tags  </strong><em>Select one to join datasets on</em></h4>
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="t in tags">
                <checkbox ng-model="t.selected" ng-change="change(t)"></checkbox>
                <label>{{t.name}}</label>
            </li>
            <hr>
            <label>Show selected tag in table</label>
            <checkbox ng-model="addJoinColumn"></checkbox>
        </ul>
    </div>
    <div class="modal-footer">
        <button class="btn btn-danger pull-left" type="button" ng-click="cancel()">Cancel</button>
        <button class="btn btn-primary pull-left" type="button" ng-click="previous()">Previous</button>
        <button class="btn btn-primary" type="button" ng-click="next()" ng-disabled="selectedCount != 1">Next</button>
    </div>
</div>

<!-- Third step of modal -->
<div ng-show="step == 3">
    <div class="modal-body">
        <h4><strong>Columns  </strong><em>Select columns to show in table</em></h4>
    </div>
    <div class="col-md-6">
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="a in attributes">
                <checkbox ng-model="a.selected" ng-change="change(a)"></checkbox>
                <label>{{a.name}} // {{a.datatset.name}}</label>
            </li>
            <hr>
            <label>Show selected tag in table</label>
            <checkbox ng-model="addJoinColumn"></checkbox>
        </ul>
    </div>
    <div class="modal-footer">
        <button class="btn btn-danger pull-left" type="button" ng-click="cancel()">Cancel</button>
        <button class="btn btn-primary pull-left" type="button" ng-click="previous()">Previous</button>
        <button class="btn btn-primary" type="button" ng-click="next()">Next</button>
    </div>
</div>

<!-- Fourth step of modal -->
<div ng-show="step == 4">
    <div class="modal-body">
        <h4>Constructed Query</h4>
    </div>
    <div class="modal-footer">
        <button class="btn btn-danger pull-left" type="button" ng-click="cancel()">Cancel</button>
        <button class="btn btn-primary pull-left" type="button" ng-click="previous()">Previous</button>
        <button class="btn btn-default" type="button">Save</button>
        <button class="btn btn-success" type="button">Save &amp; Run</button>
    </div>
</div>